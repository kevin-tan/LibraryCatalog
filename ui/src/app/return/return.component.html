<!DOCTYPE html>

<html>
<title>Library Catalog</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">

<body class="w3-black">

<div>
  <!-- Side Bar -->
  <nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
    <a href="/home" class="w3-bar-item w3-button w3-padding-large w3-black">
      <i class="fa fa-home w3-xxlarge"></i>
      <p>HOME</p>
    </a>
    <a href="/search/book" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
      <i class="fa fa-book w3-xxlarge"></i>
      <p>BOOK</p>
    </a>
    <a href="/search/magazine" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
      <i class="fa fa-book-open w3-xxlarge"></i>
      <p>MAGAZINE</p>
    </a>
    <a href="/search/music" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
      <i class="fa fa-music w3-xxlarge"></i>
      <p>MUSIC</p>
    </a>
    <a href="/search/movie" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
      <i class="fa fa-compact-disc w3-xxlarge"></i>
      <p>MOVIE</p>
    </a>
    <a href="/loanedItems" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
      <i class="fa fa-users w3-xxlarge"></i>
      <p>LOANED<br>ITEMS</p>
    </a>
    <a [routerLink]="" (click)="logout()" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
      <i class="fa fa-sign-out-alt w3-xxlarge"></i>
      <p>LOGOUT</p>
    </a>
  </nav>
</div>
<!-- end of side bar -->

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="/home" class="w3-bar-item w3-button" style="width:25% !important">HOME</a>
    <a href="/search/book" class="w3-bar-item w3-button" style="width:25% !important">BOOK</a>
    <a href="/search/magazine" class="w3-bar-item w3-button" style="width:25% !important">MAGAZINE</a>
    <a href="/search/music" class="w3-bar-item w3-button" style="width:25% !important">MUSIC</a>
    <a href="/search/movie" class="w3-bar-item w3-button" style="width:25% !important">MOVIE</a>
    <a [routerLink]="" (click)="logout()" class="w3-bar-item w3-button" style="width:25% !important">Logout</a>
  </div>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black" id="home">
    <h2>Loaned Items</h2><br><br>
  </header>
  <h3>Here are the items you own. Select items if you want to return them.</h3>
  <br>

  <div class="w3-padding-64 w3-content w3-text-grey">


      <mat-selection-list [(ngModel)]="selectedItems" >
        <mat-list-option *ngFor="let item of this.loanedItems" [value]="item">
          <p matLine> {{item.spec.title}} </p>
          <p matLine>{{item.type}}</p>
        </mat-list-option>
      </mat-selection-list>

      <br>

    <form *ngIf="selectedItems?.length > 0">
      <p>To confirm you are actually returning these selected item<span *ngIf="selectedItems.length > 1">s</span>, please seek a library admin to verify.</p>
      <hr style="width:200px" class="w3-opacity">
      <p *ngIf="errorMessage != ''" class="error-message">{{errorMessage}}</p>
      <p><input class="w3-input w3-padding-16" type="text" placeholder="Username" required name="username" #username  username.value=''></p>
      <p><input class="w3-input w3-padding-16" type="password" placeholder="Password" required name="password" #password  password.value=''></p>
      <button class="w3-button w3-light-grey w3-padding-large" type="submit" (click)="returnItems(username.value, password.value)">
          Return Items
      </button>
    </form>
  </div>

  {{ this.selectedItems | json }}

  <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
    <p class="w3-medium">Created by SOEN343 team#10</p>
    <!-- End footer -->
  </footer>

  <!-- END PAGE CONTENT -->
</div>
</body>
</html>
