<!DOCTYPE html>

<html>
<title>Cart</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">

<body class="w3-black">

<app-navbar></app-navbar>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black" id="home">
    <h1 class="w3-jumbo">Library Catalog</h1>
  </header>

  <!-- About Catalog Section -->
  <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="about">
    <h2 class="w3-text-light-grey">Item Details</h2>
    <hr style="width:200px" class="w3-opacity">
  </div>

    <table *ngIf='this.type == "Book"' mat-table [dataSource]="loanables" matSort class="mat-elevation-z8">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Item ID </th>
        <td mat-cell *matCellDef="let element">{{element.id}}</td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
        <td mat-cell *matCellDef="let element">{{element.spec.Book.title}}</td>
      </ng-container>

      <ng-container matColumnDef="author">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Author </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.author}} </td>
      </ng-container>

      <ng-container matColumnDef="pages">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pages </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.pages}} </td>
      </ng-container>

      <ng-container matColumnDef="format">
        <th mat-header-cell *matHeaderCellDef> Format </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.format}} </td>
      </ng-container>

      <ng-container matColumnDef="publisher">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Publisher </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.publisher}} </td>
      </ng-container>

      <ng-container matColumnDef="isbn10">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ISBN-10 </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.isbn10}} </td>
      </ng-container>

      <ng-container matColumnDef="isbn13">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ISBN-13 </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.isbn13}} </td>
      </ng-container>

      <ng-container matColumnDef="pubDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Publish Date </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.pubDate}} </td>
      </ng-container>

      <ng-container matColumnDef="language">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Language </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Book.language}} </td>
      </ng-container>

      <ng-container matColumnDef="availability">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Availability </th>
        <td mat-cell *matCellDef="let element"> {{element.available ? "Available": "Not Available" }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayBookColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayBookColumns;"></tr>
    </table>

    <table mat-table *ngIf='this.type == "Movie"' [dataSource]="loanables" matSort class="mat-elevation-z8">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Item ID </th>
        <td mat-cell *matCellDef="let element">{{element.id}}</td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
        <td mat-cell *matCellDef="let element">{{element.spec.Movie.title}}</td>
      </ng-container>

      <ng-container matColumnDef="language">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Language </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.language}} </td>
      </ng-container>

      <ng-container matColumnDef="producers">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Producers </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.producers}} </td>
      </ng-container>

      <ng-container matColumnDef="actors">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Actors </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.actors}} </td>
      </ng-container>

      <ng-container matColumnDef="dubbed">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Dubbed </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.dubbed}} </td>
      </ng-container>

      <ng-container matColumnDef="subtitles">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Subtitles </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.subtitles}} </td>
      </ng-container>

      <ng-container matColumnDef="releaseDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Release Date </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.releaseDate}} </td>
      </ng-container>

      <ng-container matColumnDef="runTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Run Time </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Movie.runTime}} </td>
      </ng-container>

      <ng-container matColumnDef="availability">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Availability </th>
        <td mat-cell *matCellDef="let element"> {{element.available ? "Available": "Not Available" }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayMovieColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayMovieColumns;"></tr>
    </table>

    <table mat-table *ngIf='this.type == "Magazine"' [dataSource]="magazines" matSort class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Item ID </th>
        <td mat-cell *matCellDef="let element">{{element.id}}</td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
        <td mat-cell *matCellDef="let element">{{element.spec.Magazine.title}}</td>
      </ng-container>

      <ng-container matColumnDef="publisher">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Publisher </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Magazine.publisher}} </td>
      </ng-container>

      <ng-container matColumnDef="pubDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Publish Date </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Magazine.pubDate}} </td>
      </ng-container>

      <ng-container matColumnDef="language">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Language </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Magazine.language}} </td>
      </ng-container>

      <ng-container matColumnDef="isbn10">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ISBN-10 </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Magazine.isbn10}} </td>
      </ng-container>

      <ng-container matColumnDef="isbn13">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ISBN-13 </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Magazine.isbn13}} </td>
      </ng-container>

      <ng-container matColumnDef="availability">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Availability </th>
        <td mat-cell *matCellDef>Can't be borrowed</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayMagazineColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayMagazineColumns;"></tr>
    </table>

    <table mat-table *ngIf='this.type == "Music"' [dataSource]="loanables" matSort class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Item ID </th>
        <td mat-cell *matCellDef="let element">{{element.id}}</td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
        <td mat-cell *matCellDef="let element">{{element.spec.Music.title}}</td>
      </ng-container>

      <ng-container matColumnDef="artist">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Artist </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Music.artist}} </td>
      </ng-container>

      <ng-container matColumnDef="label">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Label </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Music.label}} </td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Music.type}} </td>
      </ng-container>

      <ng-container matColumnDef="asin">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ASIN </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Music.asin}} </td>
      </ng-container>

      <ng-container matColumnDef="releaseDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Release Date </th>
        <td mat-cell *matCellDef="let element"> {{element.spec.Music.releaseDate}} </td>
      </ng-container>

      <ng-container matColumnDef="availability">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Availability </th>
        <td mat-cell *matCellDef="let element"> {{element.available ? "Available": "Not Available" }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayMusicColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayMusicColumns;"></tr>
    </table>

  <div>
    <p>Number of available loanable copies: {{this.availableCounter}}</p>
    <button *ngIf="availableCounter >= 1" class="w3-button w3-light-grey w3-padding-large" type="submit" (click)="addItemToCart(this.loanables[0])">
      Add Item
    </button>
  </div>

    <!--Good-->
  <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
    <p class="w3-medium">Created by SOEN343 team#10</p>
    <!-- End footer -->
  </footer>

  <!-- END PAGE CONTENT -->
</div>
</body>
</html>
