<!DOCTYPE html>

<html>
<title>Library Catalog</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">

<body class="w3-black">

<app-navbar></app-navbar>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black">
    <h2 class="w3-jumbo">What would you like to search<br>in <span style="font-size: 115%;"><i>movie</i></span> items?</h2>
    <h3>Please enter the item information that you would like to search for.</h3>
    <hr style="width:100%" class="w3-opacity">
  </header>
  <h4>Check the item detail to enter the keyword for searching</h4>
  <div>
    <form ngNativeValidate #movieForm="ngForm">
      <table>
        <tr>
          <th>
            <input id="toggleTitle" type="checkbox" >
            <label for="toggleTitle">Title</label>
            <div id="expandTitle">
              <textarea rows="1" cols="47" #title title.value="" name="clear" ngModel></textarea>
            </div>
          </th>
          <th>
            <input id="toggleDirector" type="checkbox" >
            <label for="toggleDirector">Director</label>
            <div id="expandDirector">
              <textarea rows="1" cols="47" #director director.value="" name="clear" ngModel></textarea>
            </div>
          </th>
        </tr>

        <tr>
          <th>
            <input id="toggleRelease" type="checkbox" >
            <label for="toggleRelease">Release Date</label>
            <div id="expandRelease">
              <textarea rows="1" cols="47" #releaseDate releaseDate.value="" name="clear" ngModel></textarea>
            </div>
          </th>
          <th>
            <input id="toggleLang" type="checkbox" >
            <label for="toggleLang">Language</label>
            <div id="expandLang">
              <textarea rows="1" cols="47" #language language.value="" name="clear" ngModel></textarea>
            </div>
          </th>
        </tr>

        <tr>
          <th>
            <input id="toggleSub" type="checkbox" >
            <label for="toggleSub">Subtitle Language</label>
            <div id="expandSub">
              <textarea rows="1" cols="47" #subtitles subtitles.value="" name="clear" ngModel></textarea>
            </div>
          </th>
          <th>
            <input id="toggleRun" type="checkbox" >
            <label for="toggleRun">Run Time</label>
            <div id="expandRun">
              <textarea rows="1" cols="47" #runtime runtime.value="" name="clear" ngModel></textarea>
            </div>
          </th>
        </tr>
      </table>
      <button class="w3-bar-item w3-button" (click)="searchMovies(title.value, director.value, releaseDate.value, language.value, subtitles.value, runtime.value)">
        Search <i class="fa fa-search"></i>
      </button>
    </form>
  </div>

    <div>
      <h2><i>Movies</i></h2><hr>
      <table mat-table #movieSort="matSort" [dataSource]="matMovieList" matSort class="mat-elevation-z8" width="100%">
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
          <td mat-cell *matCellDef="let element"><a id="movieTitle" routerLink="" (click)="OnSelectItem('Movie', element.id)">{{element.title}}</a></td>
        </ng-container>

        <ng-container matColumnDef="language">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Language </th>
          <td mat-cell *matCellDef="let element"> {{element.language}} </td>
        </ng-container>

        <ng-container matColumnDef="director">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Director </th>
          <td mat-cell *matCellDef="let element"> {{element.director}} </td>
        </ng-container>

        <ng-container matColumnDef="producers">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Producers </th>
          <td mat-cell *matCellDef="let element"> {{element.producers}} </td>
        </ng-container>

        <ng-container matColumnDef="actors">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Actors </th>
          <td mat-cell *matCellDef="let element"> {{element.actors}} </td>
        </ng-container>

        <ng-container matColumnDef="dubbed">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Dubbed </th>
          <td mat-cell *matCellDef="let element"> {{element.dubbed}} </td>
        </ng-container>

        <ng-container matColumnDef="subtitles">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Subtitles </th>
          <td mat-cell *matCellDef="let element"> {{element.subtitles}} </td>
        </ng-container>

        <ng-container matColumnDef="releaseDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Release Date </th>
          <td mat-cell *matCellDef="let element"> {{element.releaseDate}} </td>
        </ng-container>

        <ng-container matColumnDef="runTime">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Run Time </th>
          <td mat-cell *matCellDef="let element"> {{element.runTime}} </td>
        </ng-container>

        <ng-container matColumnDef="quantity">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Quantity </th>
          <td mat-cell *matCellDef="let element"> {{element.quantity}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayMovieColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayMovieColumns;"></tr>
      </table>
    </div>

  <br>
  <h5>Reset filter
    <button class="w3-bar-item w3-button w3-xlarge" (click)="getAllMovies()"><i class="fa fa-refresh"></i></button>
  </h5>

  <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
    <p class="w3-medium">Created by SOEN343 team#10</p>
    <!-- End footer -->
  </footer>

  <!-- END PAGE CONTENT -->
</div>
</body>
</html>
